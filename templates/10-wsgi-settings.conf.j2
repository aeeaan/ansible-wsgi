# {{ ansible_managed }}
WSGIDontWriteBytecode {{ wsgi_dont_write_bytecode }}
{% if not wsgi_embedded %}
WSGIRestrictEmbedded on
{% endif %}
{% if wsgi_ignore_deprecation %}
WSGIPythonWarnings ignore::DeprecationWarning::
{% endif %}
WSGIPythonOptimize {{ wsgi_optimize }}
WSGISocketPrefix /dev/shm/wsgi

{% if wsgi_daemons is defined and wsgi_daemons|length > 0 %}
{% for daemon_name, wsgi_config in wsgi_daemons.items() %}

WSGIDaemonProcess {{ daemon_name }} display-name={{ daemon_name }} processes={{ wsgi_config.processes }} threads={{ wsgi_config.threads }} user={{ wsgi_config.user }} group={{ wsgi_config.group }} umask={{ wsgi_config.umask }}{% if wsgi_config.python_home is defined %} python-home={{ wsgi_config.python_home }}{% endif %}{% if wsgi_config.python_path is defined %} python-path={{ wsgi_config.python_path }}{% endif %} queue-timeout={{ wsgi_config.queue-timeout | default(wsgi_queue-timeout) }} socket-timeout={{ wsgi_config.socket-timeout | default(wsgi_socket-timeout) }} connect-timeout={{ wsgi_config.connect-timeout | default(wsgi_connect-timeout) }} request-timeout={{ wsgi_config.request-timeout | default(wsgi_request-timeout) }} inactivity-timeout={{ wsgi_config.inactivity-timeout | default(wsgi_inactivity_timeout) }} startup-timeout={{ wsgi_config.startup-timeout | default(wsgi_startup-timeout) }} deadlock-timeout={{ wsgi_config.deadlock-timeout | default(wsgi_deadlock-timeout) }} graceful-timeout={{ wsgi_config.graceful-timeout | default(wsgi_graceful-timeout) }} eviction-timeout={{ wsgi_config.eviction-timeout | default(wsgi_eviction-timeout) }} restart-interval={{ wsgi_config.restart-interval | default(wsgi_restart-interval) }} shutdown-timeout={{ wsgi_config.shutdown-timeout | default(wsgi_shutdown-timeout) }} maximum-requests={{ wsgi_config.maximum-requests | default(wsgi_maximum-requests) }} lang='{{ wsgi_config.lang | default(wsgi_lang) }}' locale='{{ wsgi_config.locale | default(wsgi_locale) }}'

{% endfor %}
{% endif %}
