# {{ ansible_managed }}

{% if not wsgi_embedded %}
WSGIRestrictEmbedded on
{% endif %}
{% if wsgi_ignore_deprecation %}
WSGIPythonWarnings ignore::DeprecationWarning::
{% endif %}
WSGIPythonOptimize {{ wsgi_optimize }}
WSGISocketPrefix /dev/shm/wsgi

{% if wsgi_daemons is defined and wsgi_daemons|length > 0 %}
{% for daemon_name, wsgi_config in wsgi_daemons.items() %}

WSGIDaemonProcess {{ daemon_name }} display-name={{ daemon_name }} processes={{ wsgi_config.processes }} threads={{ wsgi_config.threads }} user={{ wsgi_config.user }} group={{ wsgi_config.group }} umask={{ wsgi_config.umask }}{% if wsgi_config.python_home is defined %} python-home={{ wsgi_config.python_home }}{% endif %}{% if wsgi_config.python_path is defined %} python-path={{ wsgi_config.python_path }}{% endif %} queue-timeout=45 socket-timeout={{ wsgi_config.socket-timeout | default('60') }} connect-timeout={{ wsgi_config.connect-timeout | default('15') }} request-timeout={{ wsgi_config.request-timeout | default('60') }} inactivity-timeout={{ wsgi_config.inactivity-timeout | default('0') }} startup-timeout={{ wsgi_config.startup-timeout | default('15') }} deadlock-timeout={{ wsgi_config.deadlock-timeout | default('60') }} graceful-timeout={{ wsgi_config.graceful-timeout | default('15') }} eviction-timeout={{ wsgi_config.eviction-timeout | default('0') }} restart-interval={{ wsgi_config.restart-interval | default('0') }} shutdown-timeout={{ wsgi_config.shutdown-timeout | default('5') }} maximum-requests={{ wsgi_config.maximum-requests | default('0') }} lang='{{ wsgi_config.lang | default('en_US.UTF-8') }}' locale='{{ wsgi_config.locale | default('en_US.UTF-8') }}'

{% endfor %}
{% endif %}
